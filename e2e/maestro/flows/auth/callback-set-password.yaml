appId: com.app.seaguntechexpotemplate
name: Authentication - Callback Recovery Route To Set Password
tags:
  - auth
  - regression

---
- launchApp:
    clearState: true

# Route through auth callback to emulate recovery deep link handling.
# e2e_bypass is only honored in __DEV__ to avoid backend OTP dependency in E2E.
- openLink: seaguntechexpotemplate://callback?type=recovery&e2e_bypass=1

- extendedWaitUntil:
    visible: 'Set new password'
    timeout: 15000

- assertVisible: 'Set new password'
- assertVisible:
    id: 'auth-newpassword-input'
- assertVisible:
    id: 'auth-reset-confirmpassword-input'
- assertVisible:
    id: 'auth-updatepassword-button'
